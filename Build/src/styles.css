@import "tailwindcss";

@tailwind base;
@tailwind components;
@tailwind utilities;
@tailwind references;

:root {
  --primary-color: #3b82f6;
  --background-color: #f3f4f6;
  --text-color: #1f2937;
}

[data-theme="red"] {
  --primary-color: #ef4444;
}

[data-theme="orange"] {
  --primary-color: #f97316;
}

@media (prefers-color-scheme: dark) {
  :root {
    --primary-color: #60a5fa;
    --background-color: #1f2937;
    --text-color: #f3f4f6;
  }
  [data-theme="red"] {
    --primary-color: #f87171;
  }
  [data-theme="orange"] {
    --primary-color: #fb923c;
  }
}

button, input {
  @apply focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)];
}

#visualizer {
  @apply bg-gray-900;
}

@layer base {
  * {
    @apply m-0 p-0 box-border;
  }
  body {
    @apply bg-[#121212] text-[#f1f1f1] font-sans overflow-hidden;
  }
}

header {
  @apply bg-gradient-to-r from-[#2196F3] to-[#21CBF3] px-5 py-4 text-center text-2xl font-bold text-white;
  box-shadow: 0 2px 4px rgba(0,0,0,0.5);
  border-bottom-left-radius: 10px;
  border-bottom-right-radius: 10px;
}

#container {
  @apply flex h-[calc(100vh-60px)];
}

#playlistPanel {
  @apply w-[280px] h-[75%] bg-[#1c1c1c] p-4 border-r border-[#333] overflow-y-auto;
  border-top-left-radius: 10px;
  border-bottom-left-radius: 10px;
}
#playlistPanel h2 {
  @apply text-xl mb-2 border-b border-gray-800 pb-1;
}
#playlistPanel ul {
  @apply list-none mb-4;
}
#playlistPanel li {
  @apply flex items-center px-2 py-1 mb-1 rounded-lg cursor-pointer transition-colors relative hover:bg-gray-800;
}
#playlistPanel li.active {
  @apply bg-gray-800;
}
#playlistPanel li img {
  @apply w-10 h-10 rounded-md mr-2 object-cover;
}
.playlist-checkbox {
  @apply mr-1;
}
.delete-playlist {
  @apply absolute right-1 top-1/2 -translate-y-1/2 bg-transparent border-none text-red-600 cursor-pointer text-lg;
}
#newPlaylistName {
  @apply w-[calc(100%-20px)] px-2 py-1 border-none rounded-md mb-1 bg-gray-800 text-gray-100;
}
#addPlaylist, #setPlaylistArt, #togglePlaylistBulk {
  @apply w-full py-2 border-none bg-blue-600 text-white text-sm rounded-md cursor-pointer transition-colors mb-1 hover:bg-blue-700;
}
#playlistBulkControls {
  @apply hidden mb-1;
}
#playlistBulkControls button {
  @apply w-[48%] py-1 mr-[4%] border-none bg-red-600 text-white text-sm rounded-md cursor-pointer transition-colors hover:bg-red-700;
}

#mainPlayer {
  @apply flex flex-col flex-1 p-4 pb-32 relative;
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
}
#toggleTrackBulk {
  @apply w-[180px] py-1 border-none bg-[#2196F3] text-white text-sm rounded-md cursor-pointer mb-1 self-center;
  transition: background 0.2s;
}
#toggleTrackBulk:hover {
  @apply bg-[#1976D2];
}
#trackBulkControls {
  @apply hidden mb-1 self-center;
}
#trackBulkControls button {
  @apply w-[48%] py-1 mr-[4%] border-none bg-red-600 text-white text-sm rounded-md cursor-pointer transition-colors hover:bg-red-700;
}
#trackList {
  @apply flex-1 overflow-y-auto mb-12 pr-1;
}
#tracks {
  @apply list-none;
}
#tracks li {
  @apply flex items-center p-2 mb-1 bg-[#1e1e1e] rounded-lg cursor-pointer relative;
  transition: background 0.2s;
}
#tracks li:hover, #tracks li.active {
  @apply bg-[#2a2a2a];
}
#tracks li img {
  @apply w-10 h-10 rounded-md object-cover mr-2;
}
.track-info {
  @apply flex-1 text-base;
}
.track-checkbox {
  @apply mr-1;
}
.delete-track {
  @apply bg-transparent border-none text-red-600 cursor-pointer text-lg ml-1;
}
.rating-btn {
  @apply bg-none border-none cursor-pointer ml-1 w-6 h-6 transition-transform hover:scale-110;
}
.rating-btn svg {
  @apply w-full h-full fill-gray-100;
}
#playerControls {
  @apply fixed bottom-0 left-0 right-0 flex items-center justify-center bg-neutral-800 py-2 z-30;
}
#innerControls {
  @apply flex flex-col items-center gap-2 flex-1 max-w-[calc(100%-140px)];
}
#currentTrackArt {
  @apply absolute left-5 top-1/2 -translate-y-1/2 w-[100px] h-[100px] rounded-lg bg-neutral-800 border border-gray-800 overflow-hidden shadow-lg z-20;
}
#currentTrackArt img {
  @apply w-full h-full object-cover;
}
#controls {
  @apply flex justify-center items-center gap-[clamp(15px,2vw,25px)] mb-1;
}
#controls button {
  @apply bg-none border-none cursor-pointer p-2 rounded-full transition-colors relative;
}
#controls button:hover {
  @apply bg-white/10;
}
.icon {
  @apply w-8 h-8 fill-white;
}
.toggle-btn.active {
  background: rgba(33,150,243,0.3);
}
#shuffleBtn .icon, #repeatBtn .icon {
  fill: white !important;
  stroke: white !important;
}
#shuffleBtn.active .icon, #repeatBtn.active .icon {
  @apply fill-white stroke-white;
}
.indicator-dot {
  @apply absolute -bottom-2 left-1/2 -translate-x-1/2 w-2 h-2 hidden;
}
.toggle-btn.active .indicator-dot {
  @apply block;
}
#progressContainer {
  @apply w-[70vw] max-w-[800px] h-2 bg-[#333] rounded mx-auto mb-1 cursor-pointer relative;
}
#progress {
  @apply bg-[#2196F3] h-full w-0 rounded;
  transition: width 0.1s;
}
#timeDisplay {
  @apply text-center text-sm mb-1;
}
#volumeContainer {
  @apply w-[30vw] max-w-[300px] flex items-center gap-2 z-30;
}
#volumeSlider {
  @apply w-full;
}
#fileInput, #playlistArtInput {
  @apply hidden;
}
#uploadBtn {
  @apply absolute top-4 right-4 bg-blue-600 border-none px-3 py-2 rounded-md cursor-pointer text-sm transition-colors z-20 hover:bg-blue-700;
}
#addingPopup, #processingPopup {
  @apply fixed left-5 bg-black/70 text-white px-4 py-2 rounded text-sm z-[1000] hidden;
}
#addingPopup { bottom: 60px; }
#processingPopup { bottom: 20px; }

/* Volume Slider Customization */
#volumeSlider {
  -webkit-appearance: none;
  appearance: none;
  height: 4px;
  border-radius: 2px;
  background: #333;
  outline: none;
}

#volumeSlider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #2196F3;
  cursor: pointer;
  transition: background 0.2s;
}

#volumeSlider::-webkit-slider-thumb:hover {
  background: #1976D2;
}

#volumeSlider::-moz-range-thumb {
  width: 12px;
  height: 12px;
  border: none;
  border-radius: 50%;
  background: #2196F3;
  cursor: pointer;
  transition: background 0.2s;
}

#volumeSlider::-moz-range-thumb:hover {
  background: #1976D2;
}

/* Responsive Styles */
@media (max-width: 768px) {
  #playlistPanel { @apply w-[200px] p-2; }
  #playlistPanel h2 { @apply mb-2 pb-1; }
  #playlistPanel li { @apply px-1 py-1 mb-1; }
  #newPlaylistName { @apply px-1 py-1 mb-1; }
  #addPlaylist, #setPlaylistArt, #togglePlaylistBulk { @apply py-1 text-xs mb-1; }
  #mainPlayer { @apply p-2 pb-24; }
  #trackList { @apply mb-2 pr-1; }
  #tracks li { @apply p-1 mb-1; }
  #tracks li img { @apply w-9 h-9; }
  #playerControls { @apply py-1; }
  #currentTrackArt { @apply w-20 h-20 left-4; }
  #innerControls { @apply gap-1 max-w-[calc(100%-110px)]; }
  #controls { @apply gap-[clamp(12px,1.8vw,20px)] mb-1; }
  #progressContainer { @apply w-[80vw] max-w-[500px] mb-1; }
  #volumeContainer { @apply w-[35vw] max-w-[250px] gap-1; }
  .icon { @apply w-7 h-7; }
  #toggleTrackBulk { @apply w-[160px] py-1; }
}
@media (max-width: 480px) {
  #playlistPanel { @apply w-[150px] p-2; }
  #playlistPanel h2 { @apply mb-1 pb-1; }
  #playlistPanel li { @apply px-1 py-1 mb-1; }
  #newPlaylistName { @apply px-1 py-1 mb-1; }
  #addPlaylist, #setPlaylistArt, #togglePlaylistBulk { @apply py-1 text-xs mb-1; }
  #mainPlayer { @apply p-2 pb-20; }
  #trackList { @apply mb-1 pr-1; }
  #tracks li { @apply p-1 mb-1; }
  #tracks li img { @apply w-8 h-8; }
  #playerControls { @apply py-1; }
  #currentTrackArt { @apply w-15 h-15 left-2; }
  #innerControls { @apply gap-1 max-w-[calc(100%-80px)]; }
  #controls { @apply gap-[clamp(10px,1.5vw,15px)] mb-1; }
  #progressContainer { @apply w-[85vw] max-w-[350px] mb-1; }
  #volumeContainer { @apply w-[40vw] max-w-[180px] gap-1; }
  .icon { @apply w-6 h-6; }
  #toggleTrackBulk { @apply w-[140px] py-1; }
}